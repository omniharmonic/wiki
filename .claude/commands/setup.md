---
description: Configure Hyperflow - find Meetily database and set vault path
allowed-tools: Bash, Read, Write
argument-hint: [run without arguments for interactive setup]
---

# Hyperflow Setup

Configure the connection between Meetily and your Obsidian vault.

## Workflow

### Step 1: Find Meetily Database

Search for the Meetily SQLite database automatically:

```bash
# macOS
find ~/Library/Application\ Support -name "*.sqlite" -path "*meetily*" 2>/dev/null
find ~/Library/Application\ Support -name "*.db" -path "*meetily*" 2>/dev/null

# Also check common Tauri app locations
ls -la ~/Library/Application\ Support/ai.meetily.app/ 2>/dev/null
ls -la ~/Library/Application\ Support/com.meetily.app/ 2>/dev/null
ls -la ~/Library/Application\ Support/meetily/ 2>/dev/null
```

**Expected locations:**
- macOS: `~/Library/Application Support/ai.meetily.app/meeting_minutes.sqlite`
- Windows: `%APPDATA%/ai.meetily.app/meeting_minutes.sqlite`
- Linux: `~/.local/share/ai.meetily.app/meeting_minutes.sqlite`

If found, show the user:
> âœ… Found Meetily database at: `{path}`
> 
> This contains {N} meetings.

If NOT found:
> âŒ Could not find Meetily database automatically.
> 
> Have you:
> 1. Installed Meetily from https://github.com/Zackriya-Solutions/meeting-minutes
> 2. Run it at least once and recorded a meeting?
>
> If your database is in a custom location, please provide the full path:

### Step 2: Get Vault Path

Ask the user:
> **Where is your Obsidian vault?**
> 
> This is where processed meeting notes will be saved.
> 
> Example paths:
> - `~/Documents/my-vault`
> - `~/Library/CloudStorage/GoogleDrive-.../My Drive/vault-name`
> - `~/Obsidian/work-vault`

Validate the path exists and contains expected Hyperflow structure:
```bash
ls "{vault_path}"/.claude/commands/ 2>/dev/null
ls "{vault_path}"/scripts/sync_meetily.py 2>/dev/null
```

If Hyperflow isn't set up in the vault yet, offer to set it up:
> This vault doesn't have Hyperflow installed yet. Would you like me to set it up?
> 
> This will create:
> - `.claude/commands/` - Claude Code commands
> - `.claude/skills/` - Processing rules
> - `scripts/` - Sync script
> - `_inbox/meetings/` - Where new meetings land
> - `_templates/` - Note templates

### Step 3: Create Configuration

Create a `.hyperflow.env` file in the vault root:

```bash
# Hyperflow Configuration
# Generated by /setup on {date}

# Meetily SQLite database location
MEETILY_DB_PATH="{detected_or_provided_path}"

# Obsidian vault root (this vault)
HYPERFLOW_VAULT="{vault_path}"
```

Also add to shell profile for persistence. Ask:
> **Add to shell profile for permanent setup?**
> 
> This will add environment variables to your ~/.zshrc (or ~/.bashrc)
> so they persist across terminal sessions.

If yes, append to shell profile:
```bash
echo '' >> ~/.zshrc
echo '# Hyperflow configuration' >> ~/.zshrc
echo 'export MEETILY_DB_PATH="{path}"' >> ~/.zshrc
echo 'export HYPERFLOW_VAULT="{vault}"' >> ~/.zshrc
```

### Step 4: Verify Setup

Test the configuration:
```bash
python3 scripts/sync_meetily.py --list
```

Show results:
```
âœ… Hyperflow Setup Complete!

Configuration:
  ðŸ“‚ Meetily DB: {db_path}
  ðŸ“ Vault: {vault_path}
  ðŸ“„ Config: {vault_path}/.hyperflow.env

Meetily Status:
  {N} meetings available for sync

Next Steps:
  1. Run /sync-meetily to pull meetings
  2. Run /ingest-meetings to process them
  3. Run /add-project to create your first project
```

## Quick Setup (Non-Interactive)

If running in a vault that's already configured, just verify:

```bash
# Check if .hyperflow.env exists
if [ -f .hyperflow.env ]; then
  source .hyperflow.env
  echo "Loaded config from .hyperflow.env"
  python3 scripts/sync_meetily.py --list
fi
```

## Troubleshooting

### Database Not Found

1. Open Meetily app
2. Record a short test meeting (30 seconds is fine)
3. Wait for transcription to complete
4. Run `/setup` again

### Permission Denied

```bash
# Check file permissions
ls -la ~/Library/Application\ Support/ai.meetily.app/
```

### Multiple Databases Found

If multiple databases are found, ask user to choose:
> Found multiple Meetily databases:
> 1. ~/Library/Application Support/ai.meetily.app/meeting_minutes.sqlite (5 meetings)
> 2. ~/Library/Application Support/com.meetily.dev/meeting_minutes.sqlite (2 meetings)
>
> Which one should I use? [1/2]

## Manual Configuration

If automatic setup fails, users can manually create `.hyperflow.env`:

```bash
# In vault root, create .hyperflow.env:
MEETILY_DB_PATH="/full/path/to/meeting_minutes.sqlite"
HYPERFLOW_VAULT="/full/path/to/vault"
```

Or set environment variables directly:
```bash
export MEETILY_DB_PATH="$HOME/Library/Application Support/ai.meetily.app/meeting_minutes.sqlite"
export HYPERFLOW_VAULT="$HOME/Documents/my-vault"
```

